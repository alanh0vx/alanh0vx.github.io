
<!DOCTYPE html>
<html>
  <head>
    <title>â­• Tic Tac Toe</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
      body {
        font-family: 'Poppins', sans-serif;
        background: linear-gradient(135deg, #1a1a1a 0%, #2d1810 50%, #ff6b35 100%);
        color: white;
        text-align: center;
        margin: 0;
        padding: 20px;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }

      h1 {
        font-size: 2.5rem;
        margin-bottom: 20px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        background: linear-gradient(135deg, #ff6b35, #ff8c42);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .game-container {
        background: rgba(0, 0, 0, 0.3);
        padding: 30px;
        border-radius: 20px;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        border: 2px solid #ff6b35;
      }

      .game-info {
        margin-bottom: 20px;
        font-size: 1.2rem;
        color: #ff6b35;
        font-weight: 600;
      }

      #board {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        margin-bottom: 30px;
      }
    
      .row {
        display: flex;
      }
    
      .cell {
        width: 100px;
        height: 100px;
        border: 3px solid #ff6b35;
        font-size: 3rem;
        font-weight: bold;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        background: linear-gradient(135deg, #2a2a2a 0%, #1f1f1f 100%);
        transition: all 0.3s ease;
        position: relative;
      }

      .cell:hover {
        background: linear-gradient(135deg, #3a3a3a 0%, #2f2f2f 100%);
        transform: scale(1.05);
        box-shadow: 0 8px 25px rgba(255, 107, 53, 0.3);
      }

      .cell.x-mark {
        color: #4CAF50;
        text-shadow: 0 0 10px rgba(76, 175, 80, 0.5);
      }

      .cell.o-mark {
        color: #ff6b35;
        text-shadow: 0 0 10px rgba(255, 107, 53, 0.5);
      }

      .winning-cell {
        background: linear-gradient(135deg, #ff6b35, #ff8c42) !important;
        animation: pulse 1s infinite;
      }

      @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.1); }
        100% { transform: scale(1); }
      }

      .button-container {
        display: flex;
        gap: 15px;
        justify-content: center;
        flex-wrap: wrap;
      }

      #reset-button, .back-btn {
        background: linear-gradient(135deg, #ff6b35, #ff8c42);
        border: none;
        padding: 12px 25px;
        border-radius: 25px;
        color: white;
        font-weight: 600;
        cursor: pointer;
        font-size: 1rem;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 8px;
      }

      #reset-button:hover, .back-btn:hover {
        background: linear-gradient(135deg, #ff8c42, #ff6b35);
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(255, 107, 53, 0.4);
        text-decoration: none;
        color: white;
      }

      .back-btn {
        position: fixed;
        top: 20px;
        left: 20px;
        padding: 10px 20px;
        border-radius: 20px;
        font-weight: 500;
      }

      .game-status {
        margin-top: 20px;
        font-size: 1.1rem;
        color: #b0b0b0;
      }

      .winner-message {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: linear-gradient(135deg, #2a2a2a 0%, #1f1f1f 100%);
        color: white;
        padding: 30px;
        border-radius: 15px;
        border: 2px solid #ff6b35;
        text-align: center;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
        z-index: 1000;
        display: none;
      }

      .winner-message h2 {
        color: #ff6b35;
        margin-bottom: 15px;
        font-size: 2rem;
      }

      @media (max-width: 600px) {
        .cell {
          width: 80px;
          height: 80px;
          font-size: 2.5rem;
        }
        
        h1 {
          font-size: 2rem;
        }
      }
    </style>
  </head>
  <body>
    <button onclick="window.close()" class="back-btn">âœ• Close App</button>
    
    <h1>â­• Tic Tac Toe</h1>
    
    <div class="game-container">
      <div class="game-info">
        <div id="current-player">Current Player: <span style="color: #4CAF50;">X (You)</span></div>
      </div>
      
      <div id="board">
        <div class="row">
          <div class="cell" id="cell-0-0"></div>
          <div class="cell" id="cell-0-1"></div>
          <div class="cell" id="cell-0-2"></div>
        </div>
        <div class="row">
            <div class="cell" id="cell-1-0"></div>
            <div class="cell" id="cell-1-1"></div>
            <div class="cell" id="cell-1-2"></div>
        </div>
        <div class="row">
            <div class="cell" id="cell-2-0"></div>
            <div class="cell" id="cell-2-1"></div>
            <div class="cell" id="cell-2-2"></div>
        </div>
      </div>
      
      <div class="button-container">
        <button id="reset-button">ðŸ”„ New Game</button>
      </div>
      
      <div class="game-status">
        <p>ðŸŽ® Click on any cell to make your move</p>
        <p>ðŸ¤– AI will play as O automatically</p>
      </div>
    </div>

    <div id="winner-message" class="winner-message">
      <h2 id="winner-text"></h2>
      <button id="play-again-btn" class="restart-btn" onclick="newGame()">ðŸŽ® Play Again</button>
    </div>
  </body>
</html>
  
  <!-- CSS -->
  <style>
    #board {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
  
    .row {
      display: flex;
    }
  
    .cell {
      width: 80px;
      height: 80px;
      border: 2px solid black;
      font-size: 50px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .winning-cell {
      background-color: yellow;
    }

  </style>
  
  <!-- JavaScript -->
  <script>
  // Constants
  const BOARD_SIZE = 3;
  const X_SYMBOL = 'X';
  const O_SYMBOL = 'O';
  const EMPTY_SYMBOL = ' ';
  
  // Variables
  let board = [];
  let currentPlayer = X_SYMBOL;
  let gameOver = false;
  let winner = null;
  
  // DOM elements
  const boardEl = document.getElementById('board');
  const resetButton = document.getElementById('reset-button');
  const currentPlayerEl = document.getElementById('current-player');
  const winnerMessageEl = document.getElementById('winner-message');
  const winnerTextEl = document.getElementById('winner-text');
  
  // Functions
  function initializeBoard() {
    for (let i = 0; i < BOARD_SIZE; i++) {
      board[i] = [];
      for (let j = 0; j < BOARD_SIZE; j++) {
        board[i][j] = EMPTY_SYMBOL;
      }
    }
  }
  
  function renderBoard() {
    board.forEach((row, i) => {
      row.forEach((cell, j) => {
        const cellEl = document.getElementById(`cell-${i}-${j}`);
        cellEl.textContent = cell;
        cellEl.classList.remove('x-mark', 'o-mark');
        if (cell === X_SYMBOL) {
          cellEl.classList.add('x-mark');
        } else if (cell === O_SYMBOL) {
          cellEl.classList.add('o-mark');
        }
      });
    });
  }

  function updateCurrentPlayer() {
    if (currentPlayer === X_SYMBOL) {
      currentPlayerEl.innerHTML = 'Current Player: <span style="color: #4CAF50;">X (You)</span>';
    } else {
      currentPlayerEl.innerHTML = 'Current Player: <span style="color: #ff6b35;">O (AI)</span>';
    }
  }
  
function makeMove(row, col) {
  if (!gameOver && board[row][col] === EMPTY_SYMBOL) {
    board[row][col] = currentPlayer;
    renderBoard();
    if (checkForWin(currentPlayer, board)) {
      gameOver = true;
      winner = currentPlayer;
      endGame();
    } else if (!board.flat().includes(EMPTY_SYMBOL)) {
      gameOver = true;
      winner = null;
      endGame();
    } else {
      switchPlayers();
      updateCurrentPlayer();
      if (currentPlayer === O_SYMBOL) {
        setTimeout(makeComputerMove, 800);
      }
    }
  }
}

  
function switchPlayers() {
    if (currentPlayer === X_SYMBOL) {
      currentPlayer = O_SYMBOL;
    } else {
      currentPlayer = X_SYMBOL;
    }
  }
  
function makeComputerMove() {
  if (gameOver) return;
  
  const availableCells = [];
  const availableWins = [];
  const availableBlocks = [];
  const opponentSymbol = currentPlayer === X_SYMBOL ? O_SYMBOL : X_SYMBOL;

  board.forEach((row, i) => {
    row.forEach((cell, j) => {
      if (cell === EMPTY_SYMBOL) {
        const tempBoard = JSON.parse(JSON.stringify(board));
        tempBoard[i][j] = currentPlayer;
        if (checkForWin(currentPlayer, tempBoard)) {
          availableWins.push([i, j]);
        }
        tempBoard[i][j] = opponentSymbol;
        if (checkForWin(opponentSymbol, tempBoard)) {
          availableBlocks.push([i, j]);
        }
        availableCells.push([i, j]);
      }
    });
  });

  if (availableWins.length > 0) {
    const [row, col] = availableWins[0];
    makeMove(row, col);
  } else if (availableBlocks.length > 0) {
    const [row, col] = availableBlocks[0];
    makeMove(row, col);
  } else {
    const [row, col] = availableCells[Math.floor(Math.random() * availableCells.length)];
    makeMove(row, col);
  }
}


function checkForWin(player, board) {
  // Check rows for a win
  for (let i = 0; i < 3; i++) {
    if (board[i][0] === player && board[i][1] === player && board[i][2] === player) {
      return true;
    }
  }

  // Check columns for a win
  for (let j = 0; j < 3; j++) {
    if (board[0][j] === player && board[1][j] === player && board[2][j] === player) {
      return true;
    }
  }

  // Check diagonals for a win
  if ((board[0][0] === player && board[1][1] === player && board[2][2] === player) ||
      (board[0][2] === player && board[1][1] === player && board[2][0] === player)) {
    return true;
  }

  return false;
}

function endGame() {
  if (winner) {
    const winningCombination = getWinningCombination(winner, board);
    if (winningCombination) {
      highlightWinningCombination(winningCombination);
    }
    
    if (winner === X_SYMBOL) {
      winnerTextEl.textContent = 'ðŸŽ‰ You Win!';
    } else {
      winnerTextEl.textContent = 'ðŸ¤– AI Wins!';
    }
    
    setTimeout(() => {
      winnerMessageEl.style.display = 'block';
    }, 1000);
  } else {
    winnerTextEl.textContent = 'ðŸ¤ It\'s a Tie!';
    setTimeout(() => {
      winnerMessageEl.style.display = 'block';
    }, 500);
  }
}

function highlightWinningCombination(winningCombination) {
  winningCombination.forEach(([row, col]) => {
    const cell = document.getElementById(`cell-${row}-${col}`);
    cell.classList.add("winning-cell");
  });
}

function removeHighlightFromWinningCombination() {
  const cells = document.querySelectorAll('.cell');
  cells.forEach(cell => {
    cell.classList.remove('winning-cell');
  });
}

function getWinningCombination(symbol, board) {
  // Check horizontal lines
  for (let i = 0; i < BOARD_SIZE; i++) {
    if (board[i][0] === symbol && board[i][1] === symbol && board[i][2] === symbol) {
      return [[i, 0], [i, 1], [i, 2]];
    }
  }

  // Check vertical lines
  for (let j = 0; j < BOARD_SIZE; j++) {
    if (board[0][j] === symbol && board[1][j] === symbol && board[2][j] === symbol) {
      return [[0, j], [1, j], [2, j]];
    }
  }

  // Check diagonal lines
  if (board[0][0] === symbol && board[1][1] === symbol && board[2][2] === symbol) {
    return [[0, 0], [1, 1], [2, 2]];
  }
  if (board[0][2] === symbol && board[1][1] === symbol && board[2][0] === symbol) {
    return [[0, 2], [1, 1], [2, 0]];
  }

  return null;
}

function newGame() {
  board = [
    [EMPTY_SYMBOL, EMPTY_SYMBOL, EMPTY_SYMBOL],
    [EMPTY_SYMBOL, EMPTY_SYMBOL, EMPTY_SYMBOL],
    [EMPTY_SYMBOL, EMPTY_SYMBOL, EMPTY_SYMBOL]
  ];
  gameOver = false;
  currentPlayer = X_SYMBOL;
  winner = null;
  removeHighlightFromWinningCombination();
  renderBoard();
  updateCurrentPlayer();
  winnerMessageEl.style.display = 'none';
}

function resetGame() {
  newGame();
}
  
  // Initialization
  initializeBoard();
  renderBoard();
  updateCurrentPlayer();
  
  // Event listeners
  boardEl.addEventListener('click', (event) => {
    if (event.target.classList.contains('cell') && currentPlayer === X_SYMBOL) {
      const [row, col] = event.target.id.split('-').slice(1).map(Number);
      makeMove(row, col);
    }
  });
  
  resetButton.addEventListener('click', () => {
    newGame();
  });
  
  </script>
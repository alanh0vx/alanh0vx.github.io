<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üèá Elite Horse Racing Championship</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <link href="horses.css" rel="stylesheet">
</head>
<body>
  <a href="../index.html" class="back-btn">‚Üê Back to GameHub</a>
  
  <div class="header">
    <h1>üèá Elite Horse Racing Championship</h1>
    <div class="player-info" id="playerInfo">
      <div class="balance">
        <i class="fas fa-coins"></i>
        Balance: $<span id="playerBalance">1000</span>
      </div>
      <div class="total-winnings">
        <i class="fas fa-trophy"></i>
        Total Winnings: $<span id="totalWinnings">0</span>
      </div>
    </div>
  </div>

  <div class="main-container">
    <!-- Title Section -->
    <div class="title-section">
      <h2 id="raceTitle">üèÜ Championship Stakes</h2>
      <div class="race-distance">1200m Athletics Track</div>
    </div>

    <!-- Instructions Section -->
    <div class="instructions-section">
      <div class="instructions-header" onclick="toggleInstructions()">
        <span>üìã How to Play</span>
        <div class="instructions-toggle" id="instructionsToggle">‚ñº</div>
      </div>
      <div class="instructions-content" id="instructionsContent">
        <div class="instruction-item">
          <strong>1. Study the Horses:</strong> Click on horse thumbnails to view detailed stats, recent form, and preferences.
        </div>
        <div class="instruction-item">
          <strong>2. Analyze Conditions:</strong> Weather and track conditions affect performance. Horses have preferences!
        </div>
        <div class="instruction-item">
          <strong>3. Place Your Bets:</strong> Click on horses to bet. Win (1st), Place (1st-2nd), or Show (1st-3rd) all pay out.
        </div>
        <div class="instruction-item">
          <strong>4. Watch the Race:</strong> Horses race around the oval track with realistic physics and weather effects.
        </div>
        <div class="instruction-item">
          <strong>5. Collect Winnings:</strong> Payouts are based on odds. Study form and conditions to maximize profits!
        </div>
      </div>
    </div>

    <!-- Four Column Row -->
    <div class="four-column-row">
      <!-- Race Conditions -->
      <div class="race-conditions-small">
        <h4><i class="fas fa-cloud-sun"></i> Race Conditions</h4>
        <div class="weather-info">
          <div class="weather-item">
            <span class="weather-icon" id="weatherIcon">‚òÄÔ∏è</span>
            <span id="weatherCondition">Sunny</span>
          </div>
          <div class="weather-item">
            <span class="weather-icon">üå°Ô∏è</span>
            <span id="temperature">25¬∞C</span>
          </div>
          <div class="weather-item">
            <span class="weather-icon">üèÅ</span>
            <span id="trackCondition">Fast</span>
          </div>
          <div class="weather-item">
            <span class="weather-icon">üí®</span>
            <span id="windSpeed">15 km/h</span>
          </div>
        </div>
      </div>

      <!-- Live Odds -->
      <div class="odds-panel-small">
        <h4><i class="fas fa-chart-line"></i> Live Odds</h4>
        <div class="odds-list" id="oddsList">
          <!-- Odds will be populated here -->
        </div>
      </div>

      <!-- Commentary -->
      <div class="commentary-box-small">
        <h4><i class="fas fa-microphone"></i> Race Commentary</h4>
        <div class="commentary-text" id="commentaryText">
          Welcome to Elite Horse Racing! Generate a new race to begin.
        </div>
      </div>

      <!-- Horse Thumbnails -->
      <div class="horse-thumbnails-small">
        <h4><i class="fas fa-horse"></i> Today's Runners</h4>
        <div class="thumbnails-grid" id="horseThumbnails">
          <!-- Horse thumbnails will be populated here -->
        </div>
      </div>
    </div>

    <!-- Game Control Panel (Above Track) -->
    <div class="game-control-panel">
      <!-- Betting Section -->
      <div class="betting-section">
        <div class="selected-bets">
          <h3><i class="fas fa-ticket-alt"></i> Your Bets</h3>
          <div class="bets-container" id="selectedBets">
            <div class="no-bets">
              <i class="fas fa-info-circle"></i>
              Click on horses above to place bets
            </div>
          </div>
        </div>
      </div>

      <!-- Control Buttons -->
      <div class="start-game-section">
        <h3><i class="fas fa-flag-checkered"></i> Race Controls</h3>
        <div class="controls">
          <button id="newRaceBtn" class="btn btn-secondary">
            <i class="fas fa-sync-alt"></i> New Race
          </button>
          <button id="startRaceBtn" class="btn btn-primary" disabled>
            <i class="fas fa-flag-checkered"></i> Start Race
          </button>
          <button id="resetGameBtn" class="btn btn-danger">
            <i class="fas fa-undo"></i> Reset Game
          </button>
        </div>
      </div>
    </div>

    <!-- Track Container -->
    <div class="track-container" id="track">
      <div class="track-wrapper">
        <div class="racetrack">
          <div class="track-inner"></div>
          <div class="track-center">
            <div class="center-logo">
              <div class="track-name">THUNDER DOWNS</div>
              <div class="track-subtitle">Championship Track</div>
            </div>
          </div>
          <div class="finish-line"></div>
          <div class="starting-gate"></div>
          <div class="horses-container" id="horsesContainer">
            <!-- Horses will be positioned here during race -->
          </div>
        </div>
      </div>
      <div class="track-legend" id="trackLegend">
        <!-- Legend will be populated with horse colors -->
      </div>
    </div>
  </div>

  <!-- Horse Details Modal -->
  <div class="modal horse-details-modal" id="horseDetailsModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Horse Details</h2>
        <button class="close-btn" onclick="game.closeHorseDetails()">&times;</button>
      </div>
      <div class="modal-body" id="horseDetailsContent">
        <!-- Horse details will be populated here -->
      </div>
    </div>
  </div>

  <!-- Race Results Modal -->
  <div class="modal" id="resultsModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2><i class="fas fa-trophy"></i> Race Results</h2>
        <button class="close-btn" onclick="game.closeResultsModal()">&times;</button>
      </div>
      <div class="modal-body">
        <div class="podium" id="podium">
          <!-- Results will be shown here -->
        </div>
        <div class="betting-results" id="bettingResults">
          <!-- Betting results will be shown here -->
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-primary" id="continueBtn" onclick="game.closeResultsModal()">Continue Racing</button>
      </div>
    </div>
  </div>

  <script src="horses.js"></script>
</body>
</html>
